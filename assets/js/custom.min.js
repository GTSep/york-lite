!function(o){"use strict";function n(){var o=document.createElement("div");return o.innerHTML="<svg/>","http://www.w3.org/2000/svg"===("undefined"!=typeof SVGRect&&o.firstChild&&o.firstChild.namespaceURI)}function t(){var n=s.imagesLoaded(function(){n.isotope({itemSelector:".project",layoutMode:"masonry",masonry:{columnWidth:50}})});n.infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",itemSelector:".project",loading:{finishedMsg:"No more pages to load."}},function(t){var e=o(t).addClass("js--loading");e.imagesLoaded(function(){e.each(function(o){setTimeout(function(){e.eq(o).addClass("js--loaded")},150*o)}),n.isotope("appended",e,!0)})})}function e(){var n=o(window),t=o(window).height(),e=o(".sidebar--section"),i="js--scroll";n.width()>768&&e.children().each(function(){t<o(this).innerHeight()?o(this).parent().addClass(i):o(this).parent().removeClass(i)})}function i(){var n=(o(".main-navigation"),o(".main-navigation .mobile-navigation--arrow, main-navigation h6, .main-navigation a.york-mobile-no-link")),t=200;n.length&&n.each(function(){o(this).on("tap click",function(n){var e=o(this).nextAll("ul").first();if(e.length){n.preventDefault(),n.stopPropagation();var i=o(this).parent("li");e.is(":visible")?(e.slideUp(t),i.removeClass("york-opened")):(e.slideDown(t),i.addClass("york-opened"))}})})}var a=o("body"),s=o("#projects");a.fitVids(),o(document).ready(function(){e(),n(),i(),!0===n()&&(document.documentElement.className=document.documentElement.className.replace(/(\s*)no-svg(\s*)/,"$1svg$2")),o("#site-navigation .menu-item a").on("click",function(){a.removeClass("nav-open")}),o(".animsition").animsition({inClass:"fade-in-up-sm",outClass:"fade-out-up-sm",inDuration:800,outDuration:700,linkElement:'a:not([target="_blank"]):not([href^="#"]):not([href^="mailto"]):not(.lightbox-link):not(.comment-reply-link):not(.input-control submit):not(.ab-item)',loading:!1,unSupportCss:["animation-duration","-webkit-animation-duration","-o-animation-duration"]}),o("#respond #comment, #respond #email, #respond #author, #respond #submit").bind("focus blur",function(){o(".comment-form").toggleClass("js--focus"),o(".comment-form-author").toggleClass("js--focus"),o(".comment-form-email").toggleClass("js--focus"),o("#respond .form-submit").toggleClass("js--focus")}),o("#commentform textarea#comment").attr("placeholder",york_translation.york_comment),o("#commentform input#author").attr("placeholder",york_translation.york_author),o("#commentform input#email").attr("placeholder",york_translation.york_email),o(".mobile-menu-toggle").on("click",function(){a.toggleClass("nav-open")}),o("#nav-close").on("click",function(){a.toggleClass("nav-open")}),o(".subscribe-field").bind("focus blur",function(){o(this).closest(".mc4wp-subscribe-wrapper").toggleClass("js--focus")}),o(".subscribe-field").hover(function(){o(this).closest(".mc4wp-subscribe-wrapper").toggleClass("js--hover")})}),o(window).load(function(){a.is(".york-front-page, .tax-portfolio_category, .tax-portfolio_tag")&&t()}),o(window).resize(function(){e()})}(jQuery);